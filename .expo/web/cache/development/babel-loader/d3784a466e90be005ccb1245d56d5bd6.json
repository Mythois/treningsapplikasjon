{"ast":null,"code":"import _createClass from \"@babel/runtime/helpers/createClass\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { Button, Text } from '@rneui/themed';\nimport { createUserWithEmailAndPassword } from 'firebase/auth';\nimport React, { useState } from 'react';\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { auth, db } from \"../../firebase\";\nimport { collection, doc, getDocs, query, setDoc, where } from 'firebase/firestore';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nfunction RegisterScreen(_ref) {\n  var navigation = _ref.navigation;\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    name = _useState2[0],\n    setName = _useState2[1];\n  var _useState3 = useState(''),\n    _useState4 = _slicedToArray(_useState3, 2),\n    username = _useState4[0],\n    setUsername = _useState4[1];\n  var _useState5 = useState(''),\n    _useState6 = _slicedToArray(_useState5, 2),\n    email = _useState6[0],\n    setEmail = _useState6[1];\n  var _useState7 = useState(''),\n    _useState8 = _slicedToArray(_useState7, 2),\n    password = _useState8[0],\n    setPassword = _useState8[1];\n  var _useState9 = useState(false),\n    _useState10 = _slicedToArray(_useState9, 2),\n    loading = _useState10[0],\n    setLoading = _useState10[1];\n  return _jsxs(KeyboardAvoidingView, {\n    style: styles.container,\n    behavior: \"padding\",\n    children: [_jsx(View, {\n      style: styles.navButtonContainer,\n      children: _jsx(Button, {\n        title: \"< Back\",\n        titleStyle: {\n          color: \"#25A073\",\n          fontWeight: 'bold'\n        },\n        onPress: navigation.goBack,\n        containerStyle: {\n          borderRadius: 5\n        },\n        buttonStyle: {\n          borderColor: \"#25A073\",\n          borderWidth: 2,\n          borderRadius: 5\n        },\n        type: \"outline\"\n      })\n    }), _jsx(Text, {\n      adjustsFontSizeToFit: true,\n      style: {\n        fontSize: 40,\n        fontWeight: 'bold',\n        textAlign: 'left',\n        color: 'lightgray',\n        width: '100%',\n        paddingLeft: 20\n      },\n      children: \"WELCOME!\"\n    }), _jsx(Text, {\n      adjustsFontSizeToFit: true,\n      style: {\n        fontSize: 18,\n        fontWeight: 'regular',\n        textAlign: 'left',\n        color: 'lightgray',\n        width: '100%',\n        marginBottom: 5,\n        paddingLeft: 20\n      },\n      children: \"Start your journey here\"\n    }), _jsxs(View, {\n      style: styles.inputContainer,\n      children: [_jsx(TextInput, {\n        placeholderTextColor: \"gray\",\n        placeholder: \"Name*\",\n        onChangeText: function onChangeText(text) {\n          return setName(text);\n        },\n        value: name,\n        style: styles.input\n      }), _jsx(TextInput, {\n        placeholderTextColor: \"gray\",\n        placeholder: \"Username*\",\n        onChangeText: function onChangeText(text) {\n          return setUsername(text);\n        },\n        value: username,\n        style: styles.input\n      }), _jsx(TextInput, {\n        placeholderTextColor: \"gray\",\n        placeholder: \"Email*\",\n        onChangeText: function onChangeText(text) {\n          return setEmail(text);\n        },\n        value: email,\n        style: styles.input\n      }), _jsx(TextInput, {\n        placeholderTextColor: \"gray\",\n        placeholder: \"Password*\",\n        onChangeText: function onChangeText(text) {\n          return setPassword(text);\n        },\n        value: password,\n        style: styles.input,\n        secureTextEntry: true\n      })]\n    }), _jsx(View, {\n      style: styles.buttonContainer,\n      children: _jsx(Button, {\n        title: \"Register\",\n        loading: loading,\n        loadingProps: {\n          size: 'small',\n          color: 'white'\n        },\n        buttonStyle: {\n          backgroundColor: '#25A073',\n          borderRadius: 5,\n          height: 55\n        },\n        titleStyle: {\n          fontWeight: 'bold',\n          fontSize: 18\n        },\n        containerStyle: {\n          marginHorizontal: 50,\n          height: 55,\n          width: '90%'\n        },\n        onPress: _asyncToGenerator(function* () {\n          setLoading(true);\n          yield createUser(name, username, email, password);\n          setLoading(false);\n        })\n      })\n    })]\n  });\n}\n;\nvar styles = StyleSheet.create({\n  container: {\n    backgroundColor: \"#121212\",\n    flex: 1,\n    alignItems: 'center'\n  },\n  inputContainer: {\n    width: '90%',\n    marginTop: 20\n  },\n  input: {\n    paddingHorizontal: 15,\n    paddingVertical: 15,\n    borderRadius: 10,\n    marginTop: 10,\n    width: '100%',\n    borderColor: \"gray\",\n    borderWidth: 3,\n    color: \"white\"\n  },\n  buttonContainer: {\n    width: '100%',\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginTop: 30\n  },\n  navButtonContainer: {\n    marginTop: 40,\n    width: '100%',\n    alignItems: 'flex-start',\n    padding: 20\n  }\n});\nvar UsernameChecks = _createClass(function UsernameChecks() {\n  _classCallCheck(this, UsernameChecks);\n});\nUsernameChecks.usernamesChecked = [];\nfunction createUser(_x, _x2, _x3, _x4) {\n  return _createUser.apply(this, arguments);\n}\nfunction _createUser() {\n  _createUser = _asyncToGenerator(function* (name, username, email, password) {\n    if (checkForm(name, username, email, password) === false) {\n      return;\n    }\n    var q = query(collection(db, \"users\"), where(\"username\", \"==\", username));\n    var querySnapshot = yield getDocs(q).then(function (data) {\n      if (!data.empty) {\n        console.log(\"Username found existing.\");\n        alert(\"Username is taken.\");\n        UsernameChecks.usernamesChecked.push(username);\n      } else {\n        createUserWithEmailAndPassword(auth, email, password).then(function () {\n          var _ref3 = _asyncToGenerator(function* (userCredentials) {\n            var userRef = doc(db, \"users\", userCredentials.user.uid);\n            yield setDoc(userRef, {\n              \"name\": name,\n              \"username\": username\n            }).catch(function (error) {\n              return console.log(error);\n            });\n          });\n          return function (_x5) {\n            return _ref3.apply(this, arguments);\n          };\n        }()).catch(function (error) {\n          return alert(error.message);\n        });\n      }\n    }).catch(function (error) {\n      console.log(error.message);\n      console.log(\"Error checking usernames.\");\n      return false;\n    });\n  });\n  return _createUser.apply(this, arguments);\n}\nfunction checkForm(name, username, email, password) {\n  if (name.length === 0 || username.length === 0 || email.length === 0 || password.length === 0) {\n    console.log(\"Fields are not filled.\");\n    return false;\n  }\n  if (UsernameChecks.usernamesChecked.includes(username)) {\n    console.log(\"Username already checked exists\");\n    alert(\"Username is taken.\");\n    return false;\n  }\n}\nexport default RegisterScreen;","map":{"version":3,"names":["Button","Text","createUserWithEmailAndPassword","React","useState","auth","db","collection","doc","getDocs","query","setDoc","where","RegisterScreen","navigation","name","setName","username","setUsername","email","setEmail","password","setPassword","loading","setLoading","styles","container","navButtonContainer","color","fontWeight","goBack","borderRadius","borderColor","borderWidth","fontSize","textAlign","width","paddingLeft","marginBottom","inputContainer","text","input","buttonContainer","size","backgroundColor","height","marginHorizontal","createUser","StyleSheet","create","flex","alignItems","marginTop","paddingHorizontal","paddingVertical","justifyContent","padding","UsernameChecks","usernamesChecked","checkForm","q","querySnapshot","then","data","empty","console","log","alert","push","userCredentials","userRef","user","uid","catch","error","message","length","includes"],"sources":["C:/Users/tommy/OneDrive/Documents/school/softwareDevelopment/treningsapplikasjon/screens/authScreens/RegisterScreen.tsx"],"sourcesContent":["import { Button, Text } from '@rneui/themed';\r\nimport { createUserWithEmailAndPassword } from 'firebase/auth';\r\nimport React, { useState } from 'react';\r\nimport { KeyboardAvoidingView, TextInput, StyleSheet, View } from 'react-native';\r\nimport { auth, db } from '../../firebase';\r\nimport { collection, doc, getDocs, query, setDoc, where } from 'firebase/firestore';\r\n\r\n// --- RegisterScreen\r\nfunction RegisterScreen({ navigation }) {\r\n    const [name, setName] = useState('');\r\n    const [username, setUsername] = useState('');\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    \r\n    const [loading, setLoading] = useState(false);\r\n\r\n  return (\r\n    <KeyboardAvoidingView style={styles.container} behavior=\"padding\">\r\n      <View style={styles.navButtonContainer}>\r\n        <Button \r\n        title=\"< Back\"\r\n        titleStyle={{color:\"#25A073\", fontWeight: 'bold'}}\r\n        onPress={navigation.goBack}\r\n        containerStyle={{borderRadius: 5}}\r\n        buttonStyle={{borderColor: \"#25A073\",\r\n      borderWidth: 2, borderRadius: 5}}\r\n        type=\"outline\"\r\n        />\r\n      </View>\r\n\r\n      <Text adjustsFontSizeToFit={true} \r\n      style={{fontSize: 40, fontWeight: 'bold',\r\n      textAlign: 'left', color: 'lightgray', width: '100%', \r\n      paddingLeft: 20}}>\r\n      WELCOME!\r\n      </Text>\r\n      <Text adjustsFontSizeToFit={true} \r\n      style={{fontSize: 18, fontWeight: 'regular',\r\n      textAlign: 'left', color: 'lightgray', width: '100%',\r\n      marginBottom: 5, paddingLeft: 20}}>\r\n      Start your journey here\r\n      </Text>\r\n\r\n      <View style={styles.inputContainer}>\r\n        <TextInput\r\n        placeholderTextColor={\"gray\"}\r\n          placeholder=\"Name*\"\r\n          onChangeText={text => setName(text)}\r\n          value={name}\r\n          style={styles.input}\r\n        />\r\n        <TextInput\r\n        placeholderTextColor={\"gray\"}\r\n          placeholder=\"Username*\"\r\n          onChangeText={text => setUsername(text)}\r\n          value={username}\r\n          style={styles.input}\r\n        />\r\n        <TextInput\r\n        placeholderTextColor={\"gray\"}\r\n          placeholder=\"Email*\"\r\n          onChangeText={text => setEmail(text)}\r\n          value={email}\r\n          style={styles.input}\r\n        />\r\n        <TextInput\r\n        placeholderTextColor={\"gray\"}\r\n          placeholder=\"Password*\"\r\n          onChangeText={text => setPassword(text)}\r\n          value={password}\r\n          style={styles.input}\r\n          secureTextEntry\r\n        />\r\n      </View>\r\n\r\n      <View style={styles.buttonContainer}>\r\n        <Button\r\n          title=\"Register\"\r\n          loading={loading}\r\n          loadingProps={{ size: 'small', color: 'white' }}\r\n          buttonStyle={{\r\n            backgroundColor: '#25A073',\r\n            borderRadius: 5,\r\n            height: 55,\r\n          }}\r\n          titleStyle={{ fontWeight: 'bold', fontSize: 18 }}\r\n          containerStyle={{\r\n            marginHorizontal: 50,\r\n            height: 55,\r\n            width: '90%',\r\n          }}\r\n          onPress={async () => {\r\n            setLoading(true);\r\n            await createUser(name, username, email, password);\r\n            setLoading(false);\r\n          }}\r\n        />\r\n      </View>\r\n    </KeyboardAvoidingView>\r\n  );\r\n};\r\n\r\n// Styles for screen\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    backgroundColor: \"#121212\",\r\n    flex: 1,\r\n    alignItems: 'center',\r\n  },\r\n  inputContainer: {\r\n    width: '90%',\r\n    marginTop: 20,\r\n  },\r\n  input: {\r\n    paddingHorizontal: 15,\r\n    paddingVertical: 15,\r\n    borderRadius: 10,\r\n    marginTop: 10,\r\n    width: '100%',\r\n    borderColor: \"gray\",\r\n    borderWidth: 3,\r\n    color: \"white\"\r\n  },\r\n  buttonContainer: {\r\n    width: '100%',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginTop: 30,\r\n  },\r\n  navButtonContainer: {\r\n    marginTop: 40,\r\n    width: '100%',\r\n    alignItems: 'flex-start',\r\n    padding: 20,\r\n  }\r\n});\r\n\r\n/**\r\n * Class defined to be able to cache checked usernames, \r\n * to avoid server overload.\r\n */\r\nclass UsernameChecks {\r\n    static usernamesChecked: string[] = [];\r\n}\r\n\r\nasync function createUser(name: string, username: string,\r\n  email: string, password: string) {\r\n    if (checkForm(name,username,email,password) === false) { return; }\r\n\r\n    // Checking whether username is taken\r\n    // Here I am creating a query for all data matching the \"where\" constraint\r\n    // If the query is not empty, then the username must be taken\r\n    const q = query(collection(db, \"users\"), where(\"username\", \"==\", username));\r\n    const querySnapshot = await getDocs(q)\r\n    .then(data => {\r\n      if (!data.empty) {\r\n        console.log(\"Username found existing.\");\r\n        alert(\"Username is taken.\")\r\n      \r\n        UsernameChecks.usernamesChecked.push(username);\r\n      } else { \r\n        // Only allow creating user if one can check that a username is not already taken\r\n        createUserWithEmailAndPassword(auth, email, password)\r\n                .then(async userCredentials => {\r\n                    const userRef = doc(db, \"users\", userCredentials.user.uid);\r\n                    await setDoc(userRef, {\r\n                        \"name\": name,\r\n                        \"username\": username,\r\n                    })\r\n                    .catch(error => console.log(error))\r\n                })\r\n                .catch(error => alert(error.message))\r\n      }\r\n    })\r\n    .catch(error => {\r\n      console.log(error.message)\r\n      console.log(\"Error checking usernames.\");\r\n      \r\n      return false;\r\n    });\r\n  }\r\n\r\n/**\r\n * Checks whether the form is valid\r\n */\r\nfunction checkForm(name: string, username: string,\r\n    email: string, password: string): boolean {\r\n    \r\n    // Check whether there are any input at all\r\n    if (name.length === 0 || username.length === 0 || email.length === 0 || password.length === 0) {\r\n      console.log(\"Fields are not filled.\");    \r\n      return false;\r\n    }\r\n\r\n    // Checking whether username has already been confirmed taken\r\n    if (UsernameChecks.usernamesChecked.includes(username)) {\r\n      console.log(\"Username already checked exists\");\r\n      alert(\"Username is taken.\")\r\n      return false;\r\n    }\r\n}\r\n  \r\n\r\nexport default RegisterScreen;"],"mappings":";;;;AAAA,SAASA,MAAM,EAAEC,IAAI,QAAQ,eAAe;AAC5C,SAASC,8BAA8B,QAAQ,eAAe;AAC9D,OAAOC,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AAAC;AAAA;AAAA;AAAA;AAExC,SAASC,IAAI,EAAEC,EAAE;AACjB,SAASC,UAAU,EAAEC,GAAG,EAAEC,OAAO,EAAEC,KAAK,EAAEC,MAAM,EAAEC,KAAK,QAAQ,oBAAoB;AAAC;AAAA;AAGpF,SAASC,cAAc,OAAiB;EAAA,IAAdC,UAAU,QAAVA,UAAU;EAChC,gBAAwBV,QAAQ,CAAC,EAAE,CAAC;IAAA;IAA7BW,IAAI;IAAEC,OAAO;EACpB,iBAAgCZ,QAAQ,CAAC,EAAE,CAAC;IAAA;IAArCa,QAAQ;IAAEC,WAAW;EAC5B,iBAA0Bd,QAAQ,CAAC,EAAE,CAAC;IAAA;IAA/Be,KAAK;IAAEC,QAAQ;EACtB,iBAAgChB,QAAQ,CAAC,EAAE,CAAC;IAAA;IAArCiB,QAAQ;IAAEC,WAAW;EAE5B,iBAA8BlB,QAAQ,CAAC,KAAK,CAAC;IAAA;IAAtCmB,OAAO;IAAEC,UAAU;EAE5B,OACE,MAAC,oBAAoB;IAAC,KAAK,EAAEC,MAAM,CAACC,SAAU;IAAC,QAAQ,EAAC,SAAS;IAAA,WAC/D,KAAC,IAAI;MAAC,KAAK,EAAED,MAAM,CAACE,kBAAmB;MAAA,UACrC,KAAC,MAAM;QACP,KAAK,EAAC,QAAQ;QACd,UAAU,EAAE;UAACC,KAAK,EAAC,SAAS;UAAEC,UAAU,EAAE;QAAM,CAAE;QAClD,OAAO,EAAEf,UAAU,CAACgB,MAAO;QAC3B,cAAc,EAAE;UAACC,YAAY,EAAE;QAAC,CAAE;QAClC,WAAW,EAAE;UAACC,WAAW,EAAE,SAAS;UACtCC,WAAW,EAAE,CAAC;UAAEF,YAAY,EAAE;QAAC,CAAE;QAC/B,IAAI,EAAC;MAAS;IACZ,EACG,EAEP,KAAC,IAAI;MAAC,oBAAoB,EAAE,IAAK;MACjC,KAAK,EAAE;QAACG,QAAQ,EAAE,EAAE;QAAEL,UAAU,EAAE,MAAM;QACxCM,SAAS,EAAE,MAAM;QAAEP,KAAK,EAAE,WAAW;QAAEQ,KAAK,EAAE,MAAM;QACpDC,WAAW,EAAE;MAAE,CAAE;MAAA,UAAC;IAElB,EAAO,EACP,KAAC,IAAI;MAAC,oBAAoB,EAAE,IAAK;MACjC,KAAK,EAAE;QAACH,QAAQ,EAAE,EAAE;QAAEL,UAAU,EAAE,SAAS;QAC3CM,SAAS,EAAE,MAAM;QAAEP,KAAK,EAAE,WAAW;QAAEQ,KAAK,EAAE,MAAM;QACpDE,YAAY,EAAE,CAAC;QAAED,WAAW,EAAE;MAAE,CAAE;MAAA,UAAC;IAEnC,EAAO,EAEP,MAAC,IAAI;MAAC,KAAK,EAAEZ,MAAM,CAACc,cAAe;MAAA,WACjC,KAAC,SAAS;QACV,oBAAoB,EAAE,MAAO;QAC3B,WAAW,EAAC,OAAO;QACnB,YAAY,EAAE,sBAAAC,IAAI;UAAA,OAAIxB,OAAO,CAACwB,IAAI,CAAC;QAAA,CAAC;QACpC,KAAK,EAAEzB,IAAK;QACZ,KAAK,EAAEU,MAAM,CAACgB;MAAM,EACpB,EACF,KAAC,SAAS;QACV,oBAAoB,EAAE,MAAO;QAC3B,WAAW,EAAC,WAAW;QACvB,YAAY,EAAE,sBAAAD,IAAI;UAAA,OAAItB,WAAW,CAACsB,IAAI,CAAC;QAAA,CAAC;QACxC,KAAK,EAAEvB,QAAS;QAChB,KAAK,EAAEQ,MAAM,CAACgB;MAAM,EACpB,EACF,KAAC,SAAS;QACV,oBAAoB,EAAE,MAAO;QAC3B,WAAW,EAAC,QAAQ;QACpB,YAAY,EAAE,sBAAAD,IAAI;UAAA,OAAIpB,QAAQ,CAACoB,IAAI,CAAC;QAAA,CAAC;QACrC,KAAK,EAAErB,KAAM;QACb,KAAK,EAAEM,MAAM,CAACgB;MAAM,EACpB,EACF,KAAC,SAAS;QACV,oBAAoB,EAAE,MAAO;QAC3B,WAAW,EAAC,WAAW;QACvB,YAAY,EAAE,sBAAAD,IAAI;UAAA,OAAIlB,WAAW,CAACkB,IAAI,CAAC;QAAA,CAAC;QACxC,KAAK,EAAEnB,QAAS;QAChB,KAAK,EAAEI,MAAM,CAACgB,KAAM;QACpB,eAAe;MAAA,EACf;IAAA,EACG,EAEP,KAAC,IAAI;MAAC,KAAK,EAAEhB,MAAM,CAACiB,eAAgB;MAAA,UAClC,KAAC,MAAM;QACL,KAAK,EAAC,UAAU;QAChB,OAAO,EAAEnB,OAAQ;QACjB,YAAY,EAAE;UAAEoB,IAAI,EAAE,OAAO;UAAEf,KAAK,EAAE;QAAQ,CAAE;QAChD,WAAW,EAAE;UACXgB,eAAe,EAAE,SAAS;UAC1Bb,YAAY,EAAE,CAAC;UACfc,MAAM,EAAE;QACV,CAAE;QACF,UAAU,EAAE;UAAEhB,UAAU,EAAE,MAAM;UAAEK,QAAQ,EAAE;QAAG,CAAE;QACjD,cAAc,EAAE;UACdY,gBAAgB,EAAE,EAAE;UACpBD,MAAM,EAAE,EAAE;UACVT,KAAK,EAAE;QACT,CAAE;QACF,OAAO,oBAAE,aAAY;UACnBZ,UAAU,CAAC,IAAI,CAAC;UAChB,MAAMuB,UAAU,CAAChC,IAAI,EAAEE,QAAQ,EAAEE,KAAK,EAAEE,QAAQ,CAAC;UACjDG,UAAU,CAAC,KAAK,CAAC;QACnB,CAAC;MAAC;IACF,EACG;EAAA,EACc;AAE3B;AAAC;AAGD,IAAMC,MAAM,GAAGuB,UAAU,CAACC,MAAM,CAAC;EAC/BvB,SAAS,EAAE;IACTkB,eAAe,EAAE,SAAS;IAC1BM,IAAI,EAAE,CAAC;IACPC,UAAU,EAAE;EACd,CAAC;EACDZ,cAAc,EAAE;IACdH,KAAK,EAAE,KAAK;IACZgB,SAAS,EAAE;EACb,CAAC;EACDX,KAAK,EAAE;IACLY,iBAAiB,EAAE,EAAE;IACrBC,eAAe,EAAE,EAAE;IACnBvB,YAAY,EAAE,EAAE;IAChBqB,SAAS,EAAE,EAAE;IACbhB,KAAK,EAAE,MAAM;IACbJ,WAAW,EAAE,MAAM;IACnBC,WAAW,EAAE,CAAC;IACdL,KAAK,EAAE;EACT,CAAC;EACDc,eAAe,EAAE;IACfN,KAAK,EAAE,MAAM;IACbe,UAAU,EAAE,QAAQ;IACpBI,cAAc,EAAE,QAAQ;IACxBH,SAAS,EAAE;EACb,CAAC;EACDzB,kBAAkB,EAAE;IAClByB,SAAS,EAAE,EAAE;IACbhB,KAAK,EAAE,MAAM;IACbe,UAAU,EAAE,YAAY;IACxBK,OAAO,EAAE;EACX;AACF,CAAC,CAAC;AAAC,IAMGC,cAAc;EAAA;AAAA;AAAdA,cAAc,CACTC,gBAAgB,GAAa,EAAE;AAAA,SAG3BX,UAAU;EAAA;AAAA;AAAA;EAAA,gCAAzB,WAA0BhC,IAAY,EAAEE,QAAgB,EACtDE,KAAa,EAAEE,QAAgB,EAAE;IAC/B,IAAIsC,SAAS,CAAC5C,IAAI,EAACE,QAAQ,EAACE,KAAK,EAACE,QAAQ,CAAC,KAAK,KAAK,EAAE;MAAE;IAAQ;IAKjE,IAAMuC,CAAC,GAAGlD,KAAK,CAACH,UAAU,CAACD,EAAE,EAAE,OAAO,CAAC,EAAEM,KAAK,CAAC,UAAU,EAAE,IAAI,EAAEK,QAAQ,CAAC,CAAC;IAC3E,IAAM4C,aAAa,SAASpD,OAAO,CAACmD,CAAC,CAAC,CACrCE,IAAI,CAAC,UAAAC,IAAI,EAAI;MACZ,IAAI,CAACA,IAAI,CAACC,KAAK,EAAE;QACfC,OAAO,CAACC,GAAG,CAAC,0BAA0B,CAAC;QACvCC,KAAK,CAAC,oBAAoB,CAAC;QAE3BV,cAAc,CAACC,gBAAgB,CAACU,IAAI,CAACnD,QAAQ,CAAC;MAChD,CAAC,MAAM;QAELf,8BAA8B,CAACG,IAAI,EAAEc,KAAK,EAAEE,QAAQ,CAAC,CAC5CyC,IAAI;UAAA,8BAAC,WAAMO,eAAe,EAAI;YAC3B,IAAMC,OAAO,GAAG9D,GAAG,CAACF,EAAE,EAAE,OAAO,EAAE+D,eAAe,CAACE,IAAI,CAACC,GAAG,CAAC;YAC1D,MAAM7D,MAAM,CAAC2D,OAAO,EAAE;cAClB,MAAM,EAAEvD,IAAI;cACZ,UAAU,EAAEE;YAChB,CAAC,CAAC,CACDwD,KAAK,CAAC,UAAAC,KAAK;cAAA,OAAIT,OAAO,CAACC,GAAG,CAACQ,KAAK,CAAC;YAAA,EAAC;UACvC,CAAC;UAAA;YAAA;UAAA;QAAA,IAAC,CACDD,KAAK,CAAC,UAAAC,KAAK;UAAA,OAAIP,KAAK,CAACO,KAAK,CAACC,OAAO,CAAC;QAAA,EAAC;MAC/C;IACF,CAAC,CAAC,CACDF,KAAK,CAAC,UAAAC,KAAK,EAAI;MACdT,OAAO,CAACC,GAAG,CAACQ,KAAK,CAACC,OAAO,CAAC;MAC1BV,OAAO,CAACC,GAAG,CAAC,2BAA2B,CAAC;MAExC,OAAO,KAAK;IACd,CAAC,CAAC;EACJ,CAAC;EAAA;AAAA;AAKH,SAASP,SAAS,CAAC5C,IAAY,EAAEE,QAAgB,EAC7CE,KAAa,EAAEE,QAAgB,EAAW;EAG1C,IAAIN,IAAI,CAAC6D,MAAM,KAAK,CAAC,IAAI3D,QAAQ,CAAC2D,MAAM,KAAK,CAAC,IAAIzD,KAAK,CAACyD,MAAM,KAAK,CAAC,IAAIvD,QAAQ,CAACuD,MAAM,KAAK,CAAC,EAAE;IAC7FX,OAAO,CAACC,GAAG,CAAC,wBAAwB,CAAC;IACrC,OAAO,KAAK;EACd;EAGA,IAAIT,cAAc,CAACC,gBAAgB,CAACmB,QAAQ,CAAC5D,QAAQ,CAAC,EAAE;IACtDgD,OAAO,CAACC,GAAG,CAAC,iCAAiC,CAAC;IAC9CC,KAAK,CAAC,oBAAoB,CAAC;IAC3B,OAAO,KAAK;EACd;AACJ;AAGA,eAAetD,cAAc"},"metadata":{},"sourceType":"module"}